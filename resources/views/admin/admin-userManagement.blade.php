<x-adminLayout>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-[30px] justify-start">
        <div class="bg-white w-full h-[150px] rounded-[20px] shadow-lg p-[20px] flex items-center justify-between cursor-pointer transition-all ease-in-out hover:scale-105 hover:shadow-xl">
            <div class="text-black">
                <h2 class="text-[28px] font-bold leading-[1.2]">0</h2>
                <p class="text-[14px] text-[#a5a5a5]">Total User Application</p>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-gray-500" viewBox="0 0 24 24">
                <path d="M12,16a4,4,0,1,1,4-4A4,4,0,0,1,12,16Zm0-6a2,2,0,1,0,2,2A2,2,0,0,0,12,10Zm6,13A6,6,0,0,0,6,23a1,1,0,0,0,2,0,4,4,0,0,1,8,0,1,1,0,0,0,2,0ZM18,8a4,4,0,1,1,4-4A4,4,0,0,1,18,8Zm0-6a2,2,0,1,0,2,2A2,2,0,0,0,18,2Zm6,13a6.006,6.006,0,0,0-6-6,1,1,0,0,0,0,2,4,4,0,0,1,4,4,1,1,0,0,0,2,0ZM6,8a4,4,0,1,1,4-4A4,4,0,0,1,6,8ZM6,2A2,2,0,1,0,8,4,2,2,0,0,0,6,2ZM2,15a4,4,0,0,1,4-4A1,1,0,0,0,6,9a6.006,6.006,0,0,0-6,6,1,1,0,0,0,2,0Z"/>
            </svg>
        </div>
        <div class="bg-white w-full h-[150px] rounded-[20px] shadow-lg p-[20px] flex items-center justify-between cursor-pointer transition-all ease-in-out hover:scale-105 hover:shadow-xl">
            <div class="text-black">
                <h2 class="text-[28px] font-bold leading-[1.2]">0</h2>
                <p class="text-[14px] text-[#a5a5a5]">Approve Users</p>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-gray-500" viewBox="0 0 24 24">
                <path d="m21,17h-1v-1c0-.552-.447-1-1-1s-1,.448-1,1v1h-5c-1.654,0-3,1.346-3,3v.5c0,.827-.673,1.5-1.5,1.5s-1.5-.673-1.5-1.5V3.5c0-.539-.133-1.044-.351-1.5h2.351c.553,0,1-.448,1-1s-.447-1-1-1H3.5C1.57,0,0,1.57,0,3.5v.5c0,1.654,1.346,3,3,3h2v13.5c0,1.929,1.569,3.499,3.498,3.5h12.002c1.93,0,3.5-1.57,3.5-3.5v-.5c0-1.654-1.346-3-3-3ZM5,5h-2c-.552,0-1-.449-1-1v-.5c0-.827.673-1.5,1.5-1.5s1.5.673,1.5,1.5v1.5Zm17,15.5c0,.827-.673,1.5-1.5,1.5h-8.838c.217-.455.338-.963.338-1.5v-.5c0-.551.448-1,1-1h8c.552,0,1,.449,1,1v.5Zm-5-6.5c3.859,0,7-3.14,7-7S20.859,0,17,0s-7,3.14-7,7,3.141,7,7,7Zm0-12c2.757,0,5,2.243,5,5s-2.243,5-5,5-5-2.243-5-5,2.243-5,5-5Zm-3.482,4.8c.386-.395,1.019-.4,1.414-.015l1.131,1.108c.144.141.379.139.522,0l2.223-2.134c.397-.382,1.032-.369,1.414.029s.369,1.031-.029,1.414l-2.213,2.124c-.453.447-1.052.671-1.653.671s-1.204-.224-1.664-.674l-1.131-1.108c-.395-.387-.4-1.02-.014-1.414Z"/>
            </svg>
        </div>
        <div class="bg-white w-full h-[150px] rounded-[20px] shadow-lg p-[20px] flex items-center justify-between cursor-pointer transition-all ease-in-out hover:scale-105 hover:shadow-xl">
            <div class="text-black">
                <h2 class="text-[28px] font-bold leading-[1.2]">0</h2>
                <p class="text-[14px] text-[#a5a5a5]">Pending Approval</p>
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-gray-500" viewBox="0 0 24 24">
                <path d="m15.999,15.5c-.188,0-.379-.053-.548-.164l-4-2.628c-.281-.186-.451-.499-.451-.836v-4.872c0-.553.447-1,1-1s1,.447,1,1v4.333l3.549,2.331c.462.304.59.924.287,1.385-.192.293-.512.451-.837.451Zm-3.285,6.475c-.236.017-.474.025-.714.025-5.514,0-10-4.486-10-10S6.486,2,12,2c3.151,0,6.112,1.512,7.988,4h-2.988c-.553,0-1,.447-1,1s.447,1,1,1h4c1.103,0,2-.897,2-2V2c0-.553-.447-1-1-1s-1,.447-1,1v2.104C18.743,1.543,15.473,0,12,0,5.383,0,0,5.383,0,12s5.383,12,12,12c.288,0,.573-.011.856-.031.551-.039.966-.518.926-1.068-.039-.55-.512-.975-1.068-.926Zm10.286-10.975c-.553,0-1,.447-1,1,0,.455-.031.913-.092,1.36-.074.548.31,1.052.856,1.126.046.006.091.009.136.009.493,0,.922-.364.99-.865.072-.536.109-1.085.109-1.63,0-.553-.447-1-1-1Zm-.863,5.396c-.484-.268-1.093-.088-1.357.396-.217.396-.464.782-.735,1.148-.328.444-.233,1.07.21,1.399.18.132.388.195.594.195.307,0,.609-.141.806-.405.323-.439.62-.902.88-1.377.266-.484.088-1.092-.396-1.357Zm-4.731,4.02c-.383.246-.783.467-1.191.656-.501.233-.719.827-.486,1.328.17.365.53.579.908.579.141,0,.284-.029.42-.093.491-.229.973-.493 1.432-.789.465-.299.599-.917.3-1.382-.299-.463-.918-.597-1.382-.3Z"/>
            </svg>
        </div>
    </div>

    <!-- Cards -->
    <div class="flex flex-wrap gap-[30px] w-full justify-start">
        <!-- First Card -->
        <div class="relative overflow-x-auto shadow-md sm:rounded-lg w-full mt-10">
            <!-- Search Bar -->
            <div class="flex justify-start mb-[5px]">
                <form class="max-w-lg ml-0">
                    <div class="flex">
                        <label for="search-dropdown" class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white">Your Email</label>
                        <button id="dropdown-button" data-dropdown-toggle="dropdown" class="flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-900 bg-gray-100 border border-gray-300 rounded-s-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700 dark:text-white dark:border-gray-600" type="button">All categories
                            <svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                            </svg>
                        </button>
                        <div id="dropdown" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
                            <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdown-button">
                                <li><button type="button" class="inline-flex w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Approved</button></li>
                                <li><button type="button" class="inline-flex w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Pending</button></li>
                            
                        </div>
                        <div class="relative w-full">
                            <input type="search" id="search-dropdown" class="block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-e-lg border-s-gray-50 border-s-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-s-gray-700  dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500" placeholder="Search" required />
                            <button type="submit" class="absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-red-700 rounded-e-lg border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                                <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                                </svg>
                                <span class="sr-only">Search</span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        
            <table class="w-full text-sm text-center rtl:text-right text-gray-500 dark:text-gray-400">
                <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <th scope="col" class="px-6 py-3">User id</th>
                        <th scope="col" class="px-6 py-3">User name</th>
                        <th scope="col" class="px-6 py-3">Profile Image</th>
                        <th scope="col" class="px-6 py-3">WMSU Email</th>
                        <th scope="col" class="px-6 py-3">User Type</th>
                        <th scope="col" class="px-6 py-3">Actions</th>
                    </tr>
                </thead>
                <tbody id="productTable">
                    <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                        <td class="px-6 py-4">1</td>
                        <td class="px-6 py-4">John Harold</td>
                        <td class="px-6 py-4">
                            <img src="{{ asset('imgs/img5.jpg') }}" alt="Profile Image" class="h-12 w-12 object-cover rounded-full mx-auto">
                        </td>
                        <td class="px-6 py-4">eh202201108@wmsu.edu.ph</td>
                        <td class="px-6 py-4">Student</td>
                        <td class="px-6 py-4">
                            <div class="flex justify-center items-center space-x-2">
                                <button type="button" class="text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm w-20 py-2.5 text-center">Approve</button>
                                <button type="button" class="text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-20 py-2.5 text-center view-button">View</button>
                                <button type="button" class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm w-20 py-2.5 text-center ">Reject</button>
                            </div>
                        </td>
                    </tr>
                    <!-- Repeat for other rows -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Edit Form Modal -->
    <div id="editFormModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <form class="space-y-8 container m-auto divide-y divide-gray-200">
                <div class="space-y-8 divide-y divide-gray-200">
                    <div>
                        <div>
                            <h3 class="text-lg leading-6 font-medium text-gray-900">Edit User</h3>
                            <p class="mt-1 text-sm text-gray-500">Update the user information below.</p>
                        </div>
                        <div class="mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                            <div class="sm:col-span-3">
                                <label for="user-id" class="block text-sm font-medium text-gray-700">User ID</label>
                                <div class="mt-1">
                                    <input type="text" name="user-id" id="user-id" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md" readonly>
                                </div>
                            </div>
                            <div class="sm:col-span-3">
                                <label for="user-name" class="block text-sm font-medium text-gray-700">User Name</label>
                                <div class="mt-1">
                                    <input type="text" name="user-name" id="user-name" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md">
                                </div>
                            </div>
                            <div class="sm:col-span-6">
                                <label for="profile-image" class="block text-sm font-medium text-gray-700">Profile Image</label>
                                <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md">
                                    <div class="space-y-1 text-center">
                                        <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                            <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                        <div class="flex text-sm text-gray-600">
                                            <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500">
                                                <span>Upload a file</span>
                                                <input id="file-upload" name="file-upload" type="file" class="sr-only" onchange="previewImage(event)">
                                            </label>
                                            <p class="pl-1">or drag and drop</p>
                                        </div>
                                        <p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <img id="image-preview" class="h-24 w-24 object-cover rounded-full mx-auto" src="#" alt="Image Preview" style="display: none;">
                                </div>
                            </div>
                            <div class="sm:col-span-6">
                                <label for="wmsu-email" class="block text-sm font-medium text-gray-700">WMSU Email</label>
                                <div class="mt-1">
                                    <input type="email" name="wmsu-email" id="wmsu-email" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md">
                                </div>
                            </div>
                            <div class="sm:col-span-6">
                                <label for="user-type" class="block text-sm font-medium text-gray-700">User Type</label>
                                <div class="mt-1">
                                    <select id="user-type" name="user-type" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md">
                                        <option>Student</option>
                                        <option>Faculty</option>
                                        <option>Admin</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pt-5">
                    <div class="flex justify-end">
                        <button type="button" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" onclick="document.getElementById('editFormModal').classList.add('hidden')">Cancel</button>
                        <button type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Save</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- View Form Modal -->
    <div id="viewFormModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full">
        <div class="relative top-20 mx-auto p-5 border w-1/2 shadow-lg rounded-md bg-white">
            <div class="space-y-8 container m-auto divide-y divide-gray-200">
                <div class="space-y-8 divide-y divide-gray-200">
                    <div>
                        <div>
                            <h3 class="text-lg leading-6 font-medium text-gray-900">View User</h3>
                            <p class="mt-1 text-sm text-gray-500">User details are shown below.</p>
                        </div>
                        <div class="mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                            <div class="sm:col-span-6 text-center">
                                <img id="view-profile-image" class="h-48 w-48 object-cover rounded-full mx-auto" src="#" alt="Profile Image">
                            </div>
                            <div class="sm:col-span-6">
                                <label for="view-username" class="block text-sm font-medium text-gray-700">Username</label>
                                <div class="mt-1">
                                    <input type="text" name="view-username" id="view-username" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md" readonly>
                                </div>
                            </div>
                            <div class="sm:col-span-6">
                                <label for="view-firstname" class="block text-sm font-medium text-gray-700">First Name</label>
                                <div class="mt-1">
                                    <input type="text" name="view-firstname" id="view-firstname" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md" readonly>
                                </div>
                            </div>
                            <div class="sm:col-span-6">
                                <label for="view-lastname" class="block text-sm font-medium text-gray-700">Last Name</label>
                                <div class="mt-1">
                                    <input type="text" name="view-lastname" id="view-lastname" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md" readonly>
                                </div>
                            </div>
                            <div class="sm:col-span-6">
                                <label for="view-email" class="block text-sm font-medium text-gray-700">Email</label>
                                <div class="mt-1">
                                    <input type="email" name="view-email" id="view-email" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md" readonly>
                                </div>
                            </div>
                            <div class="sm:col-span-6">
                                <label for="view-additional-image" class="block text-sm font-medium text-gray-700">Id Images</label>
                                <div class="mt-1 flex justify-center space-x-4">
                                    <img id="view-additional-image-front" class="h-64 w-64 object-cover rounded-lg" src="{{ asset('imgs/sample-sticker.jpg') }}" alt="Additional Image Front">
                                    <img id="view-additional-image-back" class="h-64 w-64 object-cover rounded-lg" src="{{ asset('imgs/sample-sticker.jpg') }}" alt="Additional Image Back">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pt-5">
                    <div class="flex justify-end space-x-2">
                        <button type="button" class="bg-green-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">Approve</button>
                        <button type="button" class="bg-blue-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 view-profile-button">View Profile</button>
                        <button type="button" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" onclick="document.getElementById('viewFormModal').classList.add('hidden')">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.querySelectorAll('.edit-button').forEach(button => {
            button.addEventListener('click', () => {
                document.getElementById('editFormModal').classList.remove('hidden');
            });
        });

        document.getElementById('editFormModal').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) {
                e.currentTarget.classList.add('hidden');
            }
        });

        document.getElementById('search-dropdown').addEventListener('input', function() {
            let filter = this.value.toUpperCase();
            let rows = document.getElementById('productTable').getElementsByTagName('tr');
            for (let i = 0; i < rows.length; i++) {
                let cells = rows[i].getElementsByTagName('th');
                let match = false;
                for (let j = 0; j < cells.length; j++) {
                    if (cells[j]) {
                        if (cells[j].innerText.toUpperCase().indexOf(filter) > -1) {
                            match = true;
                            break;
                        }
                    }
                }
                if (match) {
                    rows[i].style.display = "";
                } else {
                    rows[i].style.display = "none";
                }
            }
        });

        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function() {
                const output = document.getElementById('image-preview');
                output.src = reader.result;
                output.style.display = 'block';
            };
            reader.readAsDataURL(event.target.files[0]);
        }

        document.querySelectorAll('.view-button').forEach(button => {
            button.addEventListener('click', () => {
                document.getElementById('viewFormModal').classList.remove('hidden');
                // Populate the modal with user data
                const row = button.closest('tr');
                document.getElementById('view-username').value = row.cells[1].innerText;
                document.getElementById('view-firstname').value = 'John'; // Replace with actual data
                document.getElementById('view-lastname').value = 'Doe'; // Replace with actual data
                document.getElementById('view-email').value = row.cells[3].innerText;
                document.getElementById('view-profile-image').src = row.cells[2].querySelector('img').src;
                document.getElementById('view-additional-image-front').src = 'path/to/additional/image.jpg'; // Replace with actual data
                document.getElementById('view-additional-image-back').src = 'path/to/additional/image.jpg'; // Replace with actual data
            });
        });

        document.querySelectorAll('.view-profile-button').forEach(button => {
            button.addEventListener('click', () => {
                window.location.href = '{{ route('admin-userManagement') }}';
            });
        });

        document.getElementById('viewFormModal').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) {
                e.currentTarget.classList.add('hidden');
            }
        });
    </script> 
</x-adminLayout>